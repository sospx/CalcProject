Модульный вычислитель выражений с алгоритмом Обратной польской нотации

О проекте
Гибкая вычислительная система, предназначенная для обработки математических выражений.

Разработка расширяемой вычислительной платформы, способной:
Интерпретировать сложные математические выражения с операциями различного уровня приоритета.
Обрабатывать вложенные скобочные конструкции любой глубины.
Преобразовывать стандартную математическую запись в обратную польскую нотацию.
Обеспечивать надежную валидацию входных данных и обработку исключительных ситуаций.
Предоставлять модульную архитектуру для простого тестирования и дальнейшего развития.

В процессе разработки изучаются:
Принципы работы с обратной польской записью (OPN).
Организация модульной структуры в Python.
Создание и обработка пользовательских исключений.
Методы модульного тестирования с использованием pytest.

Структура системы
1. Модуль лексического анализа
(tokenization.py)
Выполняет разбор входной строки на составляющие элементы:
Преобразует текстовое выражение в структурированную последовательность токенов.
Определяет унарные операторы и корректно их маркирует.
Выявляет синтаксические ошибки:
Последовательное расположение числовых значений без операторов.
Недопустимые символы в выражении.
Пустые или неполные выражения.

2. Модуль трансформации в OПН
(RPN.py)
Реализует алгоритм преобразования в обратную польскую запись:
Конвертирует инфиксную запись в постфиксный формат.
Управляет приоритетами математических операций согласно иерархии
Корректно обрабатывает унарные плюс и минус.

3. Модуль вычисления выражений
(calculation.py)
Выполняет вычисления с применением стековой структуры данных:
Обрабатывает последовательность токенов в OPN:
Числовые значения помещаются в стек.
При обнаружении оператора извлекаются соответствующие операнды, выполняется операция, результат возвращается в стек.
Осуществляет контроль корректности вычислений:
Проверка деления на нуль.
Валидация типов операндов для операций целочисленного деления и остатка.
Мониторинг переполнения числовых диапазонов.
Поддерживает работу с целыми числами и числами с плавающей точкой.

4. Модуль обработки исключений (errors.py)
Содержит специализированные классы исключений:
InvalidSequenceError – нарушение правильной последовательности элементов выражения
DivisionNumByZeroError – попытка деления на нуль
EmptyExpressionError – пустая входная строка
BracketsError – несбалансированные скобки
TwoOperatorsInARowError – последовательное расположение операторов

Поддерживаемый функционал
Арифметические операции:
Сложение +
Вычитание -
Умножение *
Деление /
Целочисленное деление // (ограничено целыми числами)
Остаток от деления % (ограничено целыми числами)
Возведение в степень **
Унарные операции: положительное и отрицательное значения
Внимание: Операции // и % требуют целочисленных операндов. Деление на нуль вызывает соответствующее исключение.

Требования к входным данным
Скобки должны быть правильно сбалансированы.
Между числами должны располагаться операторы.
Поддерживается работа с дробными числами в форматах 0.5, .5, 3.14.
Пробельные символы игнорируются при обработке.

Руководство пользователя
Запуск тестовой среды:
bash
pytest -q
Запуск основного приложения:

bash
python -m main
Итоги реализации
Разработана модульная вычислительная система с четким разделением ответственности.
Реализована комплексная система обработки ошибок и валидации входных данных.
Освоены принципы модульного тестирования с применением pytest.

Приятного пользования!